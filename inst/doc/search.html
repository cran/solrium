<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

<title>Solr search</title>

<script type="text/javascript">
window.onload = function() {
  var imgs = document.getElementsByTagName('img'), i, img;
  for (i = 0; i < imgs.length; i++) {
    img = imgs[i];
    // center an image if it is the only element of its parent
    if (img.parentElement.childElementCount === 1)
      img.parentElement.style.textAlign = 'center';
  }
};
</script>

<!-- Styles for R syntax highlighter -->
<style type="text/css">
   pre .operator,
   pre .paren {
     color: rgb(104, 118, 135)
   }

   pre .literal {
     color: #990073
   }

   pre .number {
     color: #099;
   }

   pre .comment {
     color: #998;
     font-style: italic
   }

   pre .keyword {
     color: #900;
     font-weight: bold
   }

   pre .identifier {
     color: rgb(0, 0, 0);
   }

   pre .string {
     color: #d14;
   }
</style>

<!-- R syntax highlighter -->
<script type="text/javascript">
var hljs=new function(){function m(p){return p.replace(/&/gm,"&amp;").replace(/</gm,"&lt;")}function f(r,q,p){return RegExp(q,"m"+(r.cI?"i":"")+(p?"g":""))}function b(r){for(var p=0;p<r.childNodes.length;p++){var q=r.childNodes[p];if(q.nodeName=="CODE"){return q}if(!(q.nodeType==3&&q.nodeValue.match(/\s+/))){break}}}function h(t,s){var p="";for(var r=0;r<t.childNodes.length;r++){if(t.childNodes[r].nodeType==3){var q=t.childNodes[r].nodeValue;if(s){q=q.replace(/\n/g,"")}p+=q}else{if(t.childNodes[r].nodeName=="BR"){p+="\n"}else{p+=h(t.childNodes[r])}}}if(/MSIE [678]/.test(navigator.userAgent)){p=p.replace(/\r/g,"\n")}return p}function a(s){var r=s.className.split(/\s+/);r=r.concat(s.parentNode.className.split(/\s+/));for(var q=0;q<r.length;q++){var p=r[q].replace(/^language-/,"");if(e[p]){return p}}}function c(q){var p=[];(function(s,t){for(var r=0;r<s.childNodes.length;r++){if(s.childNodes[r].nodeType==3){t+=s.childNodes[r].nodeValue.length}else{if(s.childNodes[r].nodeName=="BR"){t+=1}else{if(s.childNodes[r].nodeType==1){p.push({event:"start",offset:t,node:s.childNodes[r]});t=arguments.callee(s.childNodes[r],t);p.push({event:"stop",offset:t,node:s.childNodes[r]})}}}}return t})(q,0);return p}function k(y,w,x){var q=0;var z="";var s=[];function u(){if(y.length&&w.length){if(y[0].offset!=w[0].offset){return(y[0].offset<w[0].offset)?y:w}else{return w[0].event=="start"?y:w}}else{return y.length?y:w}}function t(D){var A="<"+D.nodeName.toLowerCase();for(var B=0;B<D.attributes.length;B++){var C=D.attributes[B];A+=" "+C.nodeName.toLowerCase();if(C.value!==undefined&&C.value!==false&&C.value!==null){A+='="'+m(C.value)+'"'}}return A+">"}while(y.length||w.length){var v=u().splice(0,1)[0];z+=m(x.substr(q,v.offset-q));q=v.offset;if(v.event=="start"){z+=t(v.node);s.push(v.node)}else{if(v.event=="stop"){var p,r=s.length;do{r--;p=s[r];z+=("</"+p.nodeName.toLowerCase()+">")}while(p!=v.node);s.splice(r,1);while(r<s.length){z+=t(s[r]);r++}}}}return z+m(x.substr(q))}function j(){function q(x,y,v){if(x.compiled){return}var u;var s=[];if(x.k){x.lR=f(y,x.l||hljs.IR,true);for(var w in x.k){if(!x.k.hasOwnProperty(w)){continue}if(x.k[w] instanceof Object){u=x.k[w]}else{u=x.k;w="keyword"}for(var r in u){if(!u.hasOwnProperty(r)){continue}x.k[r]=[w,u[r]];s.push(r)}}}if(!v){if(x.bWK){x.b="\\b("+s.join("|")+")\\s"}x.bR=f(y,x.b?x.b:"\\B|\\b");if(!x.e&&!x.eW){x.e="\\B|\\b"}if(x.e){x.eR=f(y,x.e)}}if(x.i){x.iR=f(y,x.i)}if(x.r===undefined){x.r=1}if(!x.c){x.c=[]}x.compiled=true;for(var t=0;t<x.c.length;t++){if(x.c[t]=="self"){x.c[t]=x}q(x.c[t],y,false)}if(x.starts){q(x.starts,y,false)}}for(var p in e){if(!e.hasOwnProperty(p)){continue}q(e[p].dM,e[p],true)}}function d(B,C){if(!j.called){j();j.called=true}function q(r,M){for(var L=0;L<M.c.length;L++){if((M.c[L].bR.exec(r)||[null])[0]==r){return M.c[L]}}}function v(L,r){if(D[L].e&&D[L].eR.test(r)){return 1}if(D[L].eW){var M=v(L-1,r);return M?M+1:0}return 0}function w(r,L){return L.i&&L.iR.test(r)}function K(N,O){var M=[];for(var L=0;L<N.c.length;L++){M.push(N.c[L].b)}var r=D.length-1;do{if(D[r].e){M.push(D[r].e)}r--}while(D[r+1].eW);if(N.i){M.push(N.i)}return f(O,M.join("|"),true)}function p(M,L){var N=D[D.length-1];if(!N.t){N.t=K(N,E)}N.t.lastIndex=L;var r=N.t.exec(M);return r?[M.substr(L,r.index-L),r[0],false]:[M.substr(L),"",true]}function z(N,r){var L=E.cI?r[0].toLowerCase():r[0];var M=N.k[L];if(M&&M instanceof Array){return M}return false}function F(L,P){L=m(L);if(!P.k){return L}var r="";var O=0;P.lR.lastIndex=0;var M=P.lR.exec(L);while(M){r+=L.substr(O,M.index-O);var N=z(P,M);if(N){x+=N[1];r+='<span class="'+N[0]+'">'+M[0]+"</span>"}else{r+=M[0]}O=P.lR.lastIndex;M=P.lR.exec(L)}return r+L.substr(O,L.length-O)}function J(L,M){if(M.sL&&e[M.sL]){var r=d(M.sL,L);x+=r.keyword_count;return r.value}else{return F(L,M)}}function I(M,r){var L=M.cN?'<span class="'+M.cN+'">':"";if(M.rB){y+=L;M.buffer=""}else{if(M.eB){y+=m(r)+L;M.buffer=""}else{y+=L;M.buffer=r}}D.push(M);A+=M.r}function G(N,M,Q){var R=D[D.length-1];if(Q){y+=J(R.buffer+N,R);return false}var P=q(M,R);if(P){y+=J(R.buffer+N,R);I(P,M);return P.rB}var L=v(D.length-1,M);if(L){var O=R.cN?"</span>":"";if(R.rE){y+=J(R.buffer+N,R)+O}else{if(R.eE){y+=J(R.buffer+N,R)+O+m(M)}else{y+=J(R.buffer+N+M,R)+O}}while(L>1){O=D[D.length-2].cN?"</span>":"";y+=O;L--;D.length--}var r=D[D.length-1];D.length--;D[D.length-1].buffer="";if(r.starts){I(r.starts,"")}return R.rE}if(w(M,R)){throw"Illegal"}}var E=e[B];var D=[E.dM];var A=0;var x=0;var y="";try{var s,u=0;E.dM.buffer="";do{s=p(C,u);var t=G(s[0],s[1],s[2]);u+=s[0].length;if(!t){u+=s[1].length}}while(!s[2]);if(D.length>1){throw"Illegal"}return{r:A,keyword_count:x,value:y}}catch(H){if(H=="Illegal"){return{r:0,keyword_count:0,value:m(C)}}else{throw H}}}function g(t){var p={keyword_count:0,r:0,value:m(t)};var r=p;for(var q in e){if(!e.hasOwnProperty(q)){continue}var s=d(q,t);s.language=q;if(s.keyword_count+s.r>r.keyword_count+r.r){r=s}if(s.keyword_count+s.r>p.keyword_count+p.r){r=p;p=s}}if(r.language){p.second_best=r}return p}function i(r,q,p){if(q){r=r.replace(/^((<[^>]+>|\t)+)/gm,function(t,w,v,u){return w.replace(/\t/g,q)})}if(p){r=r.replace(/\n/g,"<br>")}return r}function n(t,w,r){var x=h(t,r);var v=a(t);var y,s;if(v){y=d(v,x)}else{return}var q=c(t);if(q.length){s=document.createElement("pre");s.innerHTML=y.value;y.value=k(q,c(s),x)}y.value=i(y.value,w,r);var u=t.className;if(!u.match("(\\s|^)(language-)?"+v+"(\\s|$)")){u=u?(u+" "+v):v}if(/MSIE [678]/.test(navigator.userAgent)&&t.tagName=="CODE"&&t.parentNode.tagName=="PRE"){s=t.parentNode;var p=document.createElement("div");p.innerHTML="<pre><code>"+y.value+"</code></pre>";t=p.firstChild.firstChild;p.firstChild.cN=s.cN;s.parentNode.replaceChild(p.firstChild,s)}else{t.innerHTML=y.value}t.className=u;t.result={language:v,kw:y.keyword_count,re:y.r};if(y.second_best){t.second_best={language:y.second_best.language,kw:y.second_best.keyword_count,re:y.second_best.r}}}function o(){if(o.called){return}o.called=true;var r=document.getElementsByTagName("pre");for(var p=0;p<r.length;p++){var q=b(r[p]);if(q){n(q,hljs.tabReplace)}}}function l(){if(window.addEventListener){window.addEventListener("DOMContentLoaded",o,false);window.addEventListener("load",o,false)}else{if(window.attachEvent){window.attachEvent("onload",o)}else{window.onload=o}}}var e={};this.LANGUAGES=e;this.highlight=d;this.highlightAuto=g;this.fixMarkup=i;this.highlightBlock=n;this.initHighlighting=o;this.initHighlightingOnLoad=l;this.IR="[a-zA-Z][a-zA-Z0-9_]*";this.UIR="[a-zA-Z_][a-zA-Z0-9_]*";this.NR="\\b\\d+(\\.\\d+)?";this.CNR="\\b(0[xX][a-fA-F0-9]+|(\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)";this.BNR="\\b(0b[01]+)";this.RSR="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|\\.|-|-=|/|/=|:|;|<|<<|<<=|<=|=|==|===|>|>=|>>|>>=|>>>|>>>=|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~";this.ER="(?![\\s\\S])";this.BE={b:"\\\\.",r:0};this.ASM={cN:"string",b:"'",e:"'",i:"\\n",c:[this.BE],r:0};this.QSM={cN:"string",b:'"',e:'"',i:"\\n",c:[this.BE],r:0};this.CLCM={cN:"comment",b:"//",e:"$"};this.CBLCLM={cN:"comment",b:"/\\*",e:"\\*/"};this.HCM={cN:"comment",b:"#",e:"$"};this.NM={cN:"number",b:this.NR,r:0};this.CNM={cN:"number",b:this.CNR,r:0};this.BNM={cN:"number",b:this.BNR,r:0};this.inherit=function(r,s){var p={};for(var q in r){p[q]=r[q]}if(s){for(var q in s){p[q]=s[q]}}return p}}();hljs.LANGUAGES.cpp=function(){var a={keyword:{"false":1,"int":1,"float":1,"while":1,"private":1,"char":1,"catch":1,"export":1,virtual:1,operator:2,sizeof:2,dynamic_cast:2,typedef:2,const_cast:2,"const":1,struct:1,"for":1,static_cast:2,union:1,namespace:1,unsigned:1,"long":1,"throw":1,"volatile":2,"static":1,"protected":1,bool:1,template:1,mutable:1,"if":1,"public":1,friend:2,"do":1,"return":1,"goto":1,auto:1,"void":2,"enum":1,"else":1,"break":1,"new":1,extern:1,using:1,"true":1,"class":1,asm:1,"case":1,typeid:1,"short":1,reinterpret_cast:2,"default":1,"double":1,register:1,explicit:1,signed:1,typename:1,"try":1,"this":1,"switch":1,"continue":1,wchar_t:1,inline:1,"delete":1,alignof:1,char16_t:1,char32_t:1,constexpr:1,decltype:1,noexcept:1,nullptr:1,static_assert:1,thread_local:1,restrict:1,_Bool:1,complex:1},built_in:{std:1,string:1,cin:1,cout:1,cerr:1,clog:1,stringstream:1,istringstream:1,ostringstream:1,auto_ptr:1,deque:1,list:1,queue:1,stack:1,vector:1,map:1,set:1,bitset:1,multiset:1,multimap:1,unordered_set:1,unordered_map:1,unordered_multiset:1,unordered_multimap:1,array:1,shared_ptr:1}};return{dM:{k:a,i:"</",c:[hljs.CLCM,hljs.CBLCLM,hljs.QSM,{cN:"string",b:"'\\\\?.",e:"'",i:"."},{cN:"number",b:"\\b(\\d+(\\.\\d*)?|\\.\\d+)(u|U|l|L|ul|UL|f|F)"},hljs.CNM,{cN:"preprocessor",b:"#",e:"$"},{cN:"stl_container",b:"\\b(deque|list|queue|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array)\\s*<",e:">",k:a,r:10,c:["self"]}]}}}();hljs.LANGUAGES.r={dM:{c:[hljs.HCM,{cN:"number",b:"\\b0[xX][0-9a-fA-F]+[Li]?\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\b\\d+(?:[eE][+\\-]?\\d*)?L\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\b\\d+\\.(?!\\d)(?:i\\b)?",e:hljs.IMMEDIATE_RE,r:1},{cN:"number",b:"\\b\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d*)?i?\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\.\\d+(?:[eE][+\\-]?\\d*)?i?\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"keyword",b:"(?:tryCatch|library|setGeneric|setGroupGeneric)\\b",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\.\\.\\.",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\.\\.\\d+(?![\\w.])",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\b(?:function)",e:hljs.IMMEDIATE_RE,r:2},{cN:"keyword",b:"(?:if|in|break|next|repeat|else|for|return|switch|while|try|stop|warning|require|attach|detach|source|setMethod|setClass)\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"literal",b:"(?:NA|NA_integer_|NA_real_|NA_character_|NA_complex_)\\b",e:hljs.IMMEDIATE_RE,r:10},{cN:"literal",b:"(?:NULL|TRUE|FALSE|T|F|Inf|NaN)\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"identifier",b:"[a-zA-Z.][a-zA-Z0-9._]*\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"operator",b:"<\\-(?!\\s*\\d)",e:hljs.IMMEDIATE_RE,r:2},{cN:"operator",b:"\\->|<\\-",e:hljs.IMMEDIATE_RE,r:1},{cN:"operator",b:"%%|~",e:hljs.IMMEDIATE_RE},{cN:"operator",b:">=|<=|==|!=|\\|\\||&&|=|\\+|\\-|\\*|/|\\^|>|<|!|&|\\||\\$|:",e:hljs.IMMEDIATE_RE,r:0},{cN:"operator",b:"%",e:"%",i:"\\n",r:1},{cN:"identifier",b:"`",e:"`",r:0},{cN:"string",b:'"',e:'"',c:[hljs.BE],r:0},{cN:"string",b:"'",e:"'",c:[hljs.BE],r:0},{cN:"paren",b:"[[({\\])}]",e:hljs.IMMEDIATE_RE,r:0}]}};
hljs.initHighlightingOnLoad();
</script>



<style type="text/css">
body, td {
   font-family: sans-serif;
   background-color: white;
   font-size: 13px;
}

body {
  max-width: 800px;
  margin: auto;
  padding: 1em;
  line-height: 20px;
}

tt, code, pre {
   font-family: 'DejaVu Sans Mono', 'Droid Sans Mono', 'Lucida Console', Consolas, Monaco, monospace;
}

h1 {
   font-size:2.2em;
}

h2 {
   font-size:1.8em;
}

h3 {
   font-size:1.4em;
}

h4 {
   font-size:1.0em;
}

h5 {
   font-size:0.9em;
}

h6 {
   font-size:0.8em;
}

a:visited {
   color: rgb(50%, 0%, 50%);
}

pre, img {
  max-width: 100%;
}
pre {
  overflow-x: auto;
}
pre code {
   display: block; padding: 0.5em;
}

code {
  font-size: 92%;
  border: 1px solid #ccc;
}

code[class] {
  background-color: #F8F8F8;
}

table, td, th {
  border: none;
}

blockquote {
   color:#666666;
   margin:0;
   padding-left: 1em;
   border-left: 0.5em #EEE solid;
}

hr {
   height: 0px;
   border-bottom: none;
   border-top-width: thin;
   border-top-style: dotted;
   border-top-color: #999999;
}

@media print {
   * {
      background: transparent !important;
      color: black !important;
      filter:none !important;
      -ms-filter: none !important;
   }

   body {
      font-size:12pt;
      max-width:100%;
   }

   a, a:visited {
      text-decoration: underline;
   }

   hr {
      visibility: hidden;
      page-break-before: always;
   }

   pre, blockquote {
      padding-right: 1em;
      page-break-inside: avoid;
   }

   tr, img {
      page-break-inside: avoid;
   }

   img {
      max-width: 100% !important;
   }

   @page :left {
      margin: 15mm 20mm 15mm 10mm;
   }

   @page :right {
      margin: 15mm 10mm 15mm 20mm;
   }

   p, h2, h3 {
      orphans: 3; widows: 3;
   }

   h2, h3 {
      page-break-after: avoid;
   }
}
</style>



</head>

<body>
<!--
%\VignetteEngine{knitr::knitr}
%\VignetteIndexEntry{Solr search}
%\VignetteEncoding{UTF-8}
-->

<h1>Solr search</h1>

<p><strong>A general purpose R interface to <a href="http://lucene.apache.org/solr/">Apache Solr</a></strong></p>

<h2>Solr info</h2>

<ul>
<li><a href="http://lucene.apache.org/solr/">Solr home page</a></li>
<li><a href="http://wiki.apache.org/solr/HighlightingParameters">Highlighting help</a></li>
<li><a href="http://wiki.apache.org/solr/SimpleFacetParameters">Faceting help</a></li>
<li><a href="http://risnandar.wordpress.com/2013/09/08/how-to-install-and-setup-apache-lucene-solr-in-osx/">Install and Setup SOLR in OSX, including running Solr</a></li>
</ul>

<h2>Installation</h2>

<p>Stable version from CRAN</p>

<pre><code class="r">install.packages(&quot;solrium&quot;)
</code></pre>

<p>Or the development version from GitHub</p>

<pre><code class="r">install.packages(&quot;devtools&quot;)
devtools::install_github(&quot;ropensci/solrium&quot;)
</code></pre>

<p>Load</p>

<pre><code class="r">library(&quot;solrium&quot;)
</code></pre>

<h2>Setup connection</h2>

<p>You can setup for a remote Solr instance or on your local machine.</p>

<pre><code class="r">(conn &lt;- SolrClient$new(host = &quot;api.plos.org&quot;, path = &quot;search&quot;, port = NULL))
#&gt; &lt;Solr Client&gt;
#&gt;   host: api.plos.org
#&gt;   path: search
#&gt;   port: 
#&gt;   scheme: http
#&gt;   errors: simple
#&gt;   proxy:
</code></pre>

<h2>Rundown</h2>

<p><code>solr_search()</code> only returns the <code>docs</code> element of a Solr response body. If <code>docs</code> is
all you need, then this function will do the job. If you need facet data only, or mlt
data only, see the appropriate functions for each of those below. Another function,
<code>solr_all()</code> has a similar interface in terms of parameter as <code>solr_search()</code>, but
returns all parts of the response body, including, facets, mlt, groups, stats, etc.
as long as you request those.</p>

<h2>Search docs</h2>

<p><code>solr_search()</code> returns only docs. A basic search:</p>

<pre><code class="r">conn$search(params = list(q = &#39;*:*&#39;, rows = 2, fl = &#39;id&#39;))
#&gt; # A tibble: 2 x 1
#&gt;   id                                                
#&gt;   &lt;chr&gt;                                             
#&gt; 1 10.1371/journal.pone.0058099/materials_and_methods
#&gt; 2 10.1371/journal.pone.0030394/introduction
</code></pre>

<p><strong>Search in specific fields with <code>:</code></strong></p>

<p>Search for word ecology in title and cell in the body</p>

<pre><code class="r">conn$search(params = list(q = &#39;title:&quot;ecology&quot; AND body:&quot;cell&quot;&#39;, fl = &#39;title&#39;, rows = 5))
#&gt; # A tibble: 5 x 1
#&gt;   title                                                    
#&gt;   &lt;chr&gt;                                                    
#&gt; 1 The Ecology of Collective Behavior                       
#&gt; 2 Ecology&#39;s Big, Hot Idea                                  
#&gt; 3 Chasing Ecological Interactions                          
#&gt; 4 Spatial Ecology of Bacteria at the Microscale in Soil    
#&gt; 5 Biofilm Formation As a Response to Ecological Competition
</code></pre>

<p><strong>Wildcards</strong></p>

<p>Search for word that starts with &ldquo;cell&rdquo; in the title field</p>

<pre><code class="r">conn$search(params = list(q = &#39;title:&quot;cell*&quot;&#39;, fl = &#39;title&#39;, rows = 5))
#&gt; # A tibble: 5 x 1
#&gt;   title                                                                    
#&gt;   &lt;chr&gt;                                                                    
#&gt; 1 Cancer Stem Cell-Like Side Population Cells in Clear Cell Renal Cell Car…
#&gt; 2 Tumor Cell Recognition Efficiency by T Cells                             
#&gt; 3 Enhancement of Chemotactic Cell Aggregation by Haptotactic Cell-To-Cell …
#&gt; 4 Cell-Cell Contact Preserves Cell Viability via Plakoglobin               
#&gt; 5 Dcas Supports Cell Polarization and Cell-Cell Adhesion Complexes in Deve…
</code></pre>

<p><strong>Proximity search</strong></p>

<p>Search for words &ldquo;sports&rdquo; and &ldquo;alcohol&rdquo; within four words of each other</p>

<pre><code class="r">conn$search(params = list(q = &#39;everything:&quot;stem cell&quot;~7&#39;, fl = &#39;title&#39;, rows = 3))
#&gt; # A tibble: 3 x 1
#&gt;   title                                                                    
#&gt;   &lt;chr&gt;                                                                    
#&gt; 1 Effect of Dedifferentiation on Time to Mutation Acquisition in Stem Cell…
#&gt; 2 A Mathematical Model of Cancer Stem Cell Driven Tumor Initiation: Implic…
#&gt; 3 Phenotypic Evolutionary Models in Stem Cell Biology: Replacement, Quiesc…
</code></pre>

<p><strong>Range searches</strong></p>

<p>Search for articles with Twitter count between 5 and 10</p>

<pre><code class="r">conn$search(params = list(q = &#39;*:*&#39;, fl = c(&#39;alm_twitterCount&#39;, &#39;id&#39;), fq = &#39;alm_twitterCount:[5 TO 50]&#39;, rows = 10))
#&gt; # A tibble: 10 x 2
#&gt;    id                                                  alm_twitterCount
#&gt;    &lt;chr&gt;                                                          &lt;int&gt;
#&gt;  1 10.1371/journal.pbio.0030378/title                                 8
#&gt;  2 10.1371/journal.pbio.0030378/abstract                              8
#&gt;  3 10.1371/journal.pbio.0030378/references                            8
#&gt;  4 10.1371/journal.pone.0184491                                      10
#&gt;  5 10.1371/journal.pone.0184491/title                                10
#&gt;  6 10.1371/journal.pone.0184491/abstract                             10
#&gt;  7 10.1371/journal.pone.0184491/references                           10
#&gt;  8 10.1371/journal.pone.0184491/body                                 10
#&gt;  9 10.1371/journal.pone.0184491/introduction                         10
#&gt; 10 10.1371/journal.pone.0184491/results_and_discussion               10
</code></pre>

<p><strong>Boosts</strong></p>

<p>Assign higher boost to title matches than to body matches (compare the two calls)</p>

<pre><code class="r">conn$search(params = list(q = &#39;title:&quot;cell&quot; abstract:&quot;science&quot;&#39;, fl = &#39;title&#39;, rows = 3))
#&gt; # A tibble: 3 x 1
#&gt;   title                                                                    
#&gt;   &lt;chr&gt;                                                                    
#&gt; 1 I Want More and Better Cells! – An Outreach Project about Stem Cells and…
#&gt; 2 Globalization of Stem Cell Science: An Examination of Current and Past C…
#&gt; 3 Virtual Reconstruction and Three-Dimensional Printing of Blood Cells as …
</code></pre>

<pre><code class="r">conn$search(params = list(q = &#39;title:&quot;cell&quot;^1.5 AND abstract:&quot;science&quot;&#39;, fl = &#39;title&#39;, rows = 3))
#&gt; # A tibble: 3 x 1
#&gt;   title                                                                    
#&gt;   &lt;chr&gt;                                                                    
#&gt; 1 I Want More and Better Cells! – An Outreach Project about Stem Cells and…
#&gt; 2 Virtual Reconstruction and Three-Dimensional Printing of Blood Cells as …
#&gt; 3 Globalization of Stem Cell Science: An Examination of Current and Past C…
</code></pre>

<h2>Search all</h2>

<p><code>solr_all()</code> differs from <code>solr_search()</code> in that it allows specifying facets, mlt, groups,
stats, etc, and returns all of those. It defaults to <code>parsetype = &quot;list&quot;</code> and <code>wt=&quot;json&quot;</code>,
whereas <code>solr_search()</code> defaults to <code>parsetype = &quot;df&quot;</code> and <code>wt=&quot;csv&quot;</code>. <code>solr_all()</code> returns
by default a list, whereas <code>solr_search()</code> by default returns a data.frame.</p>

<p>A basic search, just docs output</p>

<pre><code class="r">conn$all(params = list(q = &#39;*:*&#39;, rows = 2, fl = &#39;id&#39;))
#&gt; $search
#&gt; # A tibble: 2 x 1
#&gt;   id                                                
#&gt;   &lt;chr&gt;                                             
#&gt; 1 10.1371/journal.pone.0058099/materials_and_methods
#&gt; 2 10.1371/journal.pone.0030394/introduction         
#&gt; 
#&gt; $facet
#&gt; list()
#&gt; 
#&gt; $high
#&gt; # A tibble: 0 x 0
#&gt; 
#&gt; $mlt
#&gt; $mlt$docs
#&gt; # A tibble: 2 x 1
#&gt;   id                                                
#&gt;   &lt;chr&gt;                                             
#&gt; 1 10.1371/journal.pone.0058099/materials_and_methods
#&gt; 2 10.1371/journal.pone.0030394/introduction         
#&gt; 
#&gt; $mlt$mlt
#&gt; list()
#&gt; 
#&gt; 
#&gt; $group
#&gt;   numFound start                                                 id
#&gt; 1  2113280     0 10.1371/journal.pone.0058099/materials_and_methods
#&gt; 2  2113280     0          10.1371/journal.pone.0030394/introduction
#&gt; 
#&gt; $stats
#&gt; NULL
</code></pre>

<p>Get docs, mlt, and stats output</p>

<pre><code class="r">conn$all(params = list(q = &#39;ecology&#39;, rows = 2, fl = &#39;id&#39;, mlt = &#39;true&#39;, mlt.count = 2, mlt.fl = &#39;abstract&#39;, stats = &#39;true&#39;, stats.field = &#39;counter_total_all&#39;))
#&gt; $search
#&gt; # A tibble: 2 x 1
#&gt;   id                          
#&gt;   &lt;chr&gt;                       
#&gt; 1 10.1371/journal.pone.0001248
#&gt; 2 10.1371/journal.pone.0059813
#&gt; 
#&gt; $facet
#&gt; list()
#&gt; 
#&gt; $high
#&gt; # A tibble: 0 x 0
#&gt; 
#&gt; $mlt
#&gt; $mlt$docs
#&gt; # A tibble: 2 x 1
#&gt;   id                          
#&gt;   &lt;chr&gt;                       
#&gt; 1 10.1371/journal.pone.0001248
#&gt; 2 10.1371/journal.pone.0059813
#&gt; 
#&gt; $mlt$mlt
#&gt; $mlt$mlt$`10.1371/journal.pone.0001248`
#&gt; # A tibble: 2 x 3
#&gt;   numFound start id                          
#&gt;      &lt;int&gt; &lt;int&gt; &lt;chr&gt;                       
#&gt; 1   221302     0 10.1371/journal.pbio.1002448
#&gt; 2   221302     0 10.1371/journal.pone.0155843
#&gt; 
#&gt; $mlt$mlt$`10.1371/journal.pone.0059813`
#&gt; # A tibble: 2 x 3
#&gt;   numFound start id                          
#&gt;      &lt;int&gt; &lt;int&gt; &lt;chr&gt;                       
#&gt; 1   213642     0 10.1371/journal.pone.0204749
#&gt; 2   213642     0 10.1371/journal.pone.0175014
#&gt; 
#&gt; 
#&gt; 
#&gt; $group
#&gt;   numFound start                           id
#&gt; 1    45873     0 10.1371/journal.pone.0001248
#&gt; 2    45873     0 10.1371/journal.pone.0059813
#&gt; 
#&gt; $stats
#&gt; $stats$data
#&gt;                   min     max count missing       sum sumOfSquares
#&gt; counter_total_all   0 1113107 45873       0 244364194  9.57388e+12
#&gt;                       mean   stddev
#&gt; counter_total_all 5326.972 13428.75
#&gt; 
#&gt; $stats$facet
#&gt; NULL
</code></pre>

<h2>Facet</h2>

<pre><code class="r">conn$facet(params = list(q = &#39;*:*&#39;, facet.field = &#39;journal&#39;, facet.query = c(&#39;cell&#39;, &#39;bird&#39;)))
#&gt; $facet_queries
#&gt; # A tibble: 2 x 2
#&gt;   term   value
#&gt;   &lt;chr&gt;  &lt;int&gt;
#&gt; 1 cell  171895
#&gt; 2 bird   18193
#&gt; 
#&gt; $facet_fields
#&gt; $facet_fields$journal
#&gt; # A tibble: 9 x 2
#&gt;   term                             value  
#&gt;   &lt;fct&gt;                            &lt;fct&gt;  
#&gt; 1 plos one                         1754116
#&gt; 2 plos genetics                    65482  
#&gt; 3 plos pathogens                   58879  
#&gt; 4 plos neglected tropical diseases 55287  
#&gt; 5 plos computational biology       51118  
#&gt; 6 plos biology                     36181  
#&gt; 7 plos medicine                    25913  
#&gt; 8 plos clinical trials             521    
#&gt; 9 plos medicin                     9      
#&gt; 
#&gt; 
#&gt; $facet_pivot
#&gt; NULL
#&gt; 
#&gt; $facet_dates
#&gt; NULL
#&gt; 
#&gt; $facet_ranges
#&gt; NULL
</code></pre>

<h2>Highlight</h2>

<pre><code class="r">conn$highlight(params = list(q = &#39;alcohol&#39;, hl.fl = &#39;abstract&#39;, rows = 2))
#&gt; # A tibble: 2 x 2
#&gt;   names                 abstract                                           
#&gt;   &lt;chr&gt;                 &lt;chr&gt;                                              
#&gt; 1 10.1371/journal.pone… &quot;\nAcute &lt;em&gt;alcohol&lt;/em&gt; administration can lead …
#&gt; 2 10.1371/journal.pone… Objectives: &lt;em&gt;Alcohol&lt;/em&gt;-related morbidity and…
</code></pre>

<h2>Stats</h2>

<pre><code class="r">out &lt;- conn$stats(params = list(q = &#39;ecology&#39;, stats.field = c(&#39;counter_total_all&#39;, &#39;alm_twitterCount&#39;), stats.facet = c(&#39;journal&#39;, &#39;volume&#39;)))
</code></pre>

<pre><code class="r">out$data
#&gt;                   min     max count missing       sum sumOfSquares
#&gt; counter_total_all   0 1113107 45873       0 244364194  9.57388e+12
#&gt; alm_twitterCount    0    3437 45873       0    297821  7.89253e+07
#&gt;                          mean      stddev
#&gt; counter_total_all 5326.972162 13428.74994
#&gt; alm_twitterCount     6.492294    40.96833
</code></pre>

<pre><code class="r">out$facet
#&gt; $counter_total_all
#&gt; $counter_total_all$volume
#&gt; # A tibble: 16 x 9
#&gt;    volume   min     max count missing      sum  sumOfSquares   mean stddev
#&gt;    &lt;chr&gt;  &lt;dbl&gt;   &lt;dbl&gt; &lt;int&gt;   &lt;int&gt;    &lt;dbl&gt;         &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;
#&gt;  1 11         0  287793  5264       0 18005610  316118998184  3421.  6954.
#&gt;  2 12         0  516798  5066       0 12958645  425618775537  2558.  8803.
#&gt;  3 13         0  133733  4271       0  4607026   65316779956  1079.  3759.
#&gt;  4 14         0  104122   389       0  1869920   33268717178  4807.  7911.
#&gt;  5 15         0   45500   111       0   933611   15842926657  8411.  8523.
#&gt;  6 16         0   18492   124       0   352043    2210563125  2839.  3138.
#&gt;  7 1       2053  264368    81       0  1836798  163415872138 22677. 39013.
#&gt;  8 2       2100  150921   482       0  7149303  253950042209 14833. 17536.
#&gt;  9 3       1588  136426   741       0  9458178  286252040290 12764. 14956.
#&gt; 10 4        866  399549  1010       0 12097742  517132809490 11978. 19207.
#&gt; 11 5        125  218447  1539       0 15724071  402125818643 10217. 12530.
#&gt; 12 6         95  396324  2948       0 23618894  670045150068  8012. 12773.
#&gt; 13 7         62  222011  4825       0 33643746  758715844502  6973. 10424.
#&gt; 14 8         34  579345  6360       0 38939478 1162223832632  6123. 12053.
#&gt; 15 9         57 1113107  6620       0 36705411 2774620446321  5545. 19709.
#&gt; 16 10       428  878333  6042       0 26463718 1727021174586  4380. 16331.
#&gt; 
#&gt; $counter_total_all$journal
#&gt; # A tibble: 9 x 9
#&gt;   journal   min     max count missing       sum  sumOfSquares   mean stddev
#&gt;   &lt;chr&gt;   &lt;dbl&gt;   &lt;dbl&gt; &lt;int&gt;   &lt;int&gt;     &lt;dbl&gt;         &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;
#&gt; 1 1        1226  216898  1249       0   8518485  211216111507  6820. 11077.
#&gt; 2 2           0  344164  1157       0  19856612 1017916307738 17162. 24202.
#&gt; 3 3           0  216934   311       0   6019228  336436112198 19354. 26636.
#&gt; 4 4        9142   18132     2       0     27274     412345588 13637   6357.
#&gt; 5 5           0  878333 38352       0 174567149 6106563200525  4552. 11769.
#&gt; 6 6           0  137398   833       0   7591498  139525368974  9113.  9195.
#&gt; 7 7           0  146147  1020       0   9497241  179862111621  9311.  9473.
#&gt; 8 8           0  316872  2059       0  10721687  221814167179  5207.  8981.
#&gt; 9 9           0 1113107   890       0   7565020 1360134066186  8500. 38179.
#&gt; 
#&gt; 
#&gt; $alm_twitterCount
#&gt; $alm_twitterCount$volume
#&gt; # A tibble: 16 x 9
#&gt;    volume   min   max count missing   sum sumOfSquares  mean stddev
#&gt;    &lt;chr&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt;   &lt;int&gt; &lt;dbl&gt;        &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;
#&gt;  1 11         0  2138  5264       0 52016     11337738  9.88  45.3 
#&gt;  2 12         0  1877  5066       0 38209     10648781  7.54  45.2 
#&gt;  3 13         0   565  4271       0 15400      2332646  3.61  23.1 
#&gt;  4 14         0   984   389       0 12925      3815533 33.2   93.4 
#&gt;  5 15         0   451   111       0  5168       868780 46.6   75.6 
#&gt;  6 16         0   170   124       0  1054        90480  8.5   25.7 
#&gt;  7 1          0    47    81       0   202         6176  2.49   8.42
#&gt;  8 2          0   125   482       0  1105        62759  2.29  11.2 
#&gt;  9 3          0   503   741       0  1396       270608  1.88  19.0 
#&gt; 10 4          0   311  1010       0  1631       153541  1.61  12.2 
#&gt; 11 5          0   165  1539       0  2671       141665  1.74   9.44
#&gt; 12 6          0   968  2948       0  5646      1629158  1.92  23.4 
#&gt; 13 7          0   860  4825       0 21690      2546258  4.50  22.5 
#&gt; 14 8          0  2029  6360       0 39800      9467280  6.26  38.1 
#&gt; 15 9          0  1880  6620       0 55061     16814671  8.32  49.7 
#&gt; 16 10         0  3437  6042       0 43847     18739223  7.26  55.2 
#&gt; 
#&gt; $alm_twitterCount$journal
#&gt; # A tibble: 9 x 9
#&gt;   journal   min   max count missing    sum sumOfSquares  mean stddev
#&gt;   &lt;chr&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt;   &lt;int&gt;  &lt;dbl&gt;        &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;
#&gt; 1 1           0   451  1249       0   7345       569821  5.88  20.5 
#&gt; 2 2           0  2138  1157       0  36580     14375218 31.6  107.  
#&gt; 3 3           0   830   311       0   5529      1201645 17.8   59.7 
#&gt; 4 4           0     3     2       0      3            9  1.5    2.12
#&gt; 5 5           0  3437 38352       0 209648     59279156  5.47  38.9 
#&gt; 6 6           0   248   833       0   8439       412835 10.1   19.8 
#&gt; 7 7           0   229  1020       0   8584       419352  8.42  18.5 
#&gt; 8 8           0   968  2059       0  11517      1543659  5.59  26.8 
#&gt; 9 9           0   558   890       0  10176      1123602 11.4   33.7
</code></pre>

<h2>More like this</h2>

<p><code>solr_mlt</code> is a function to return similar documents to the one</p>

<pre><code class="r">out &lt;- conn$mlt(params = list(q = &#39;title:&quot;ecology&quot; AND body:&quot;cell&quot;&#39;, mlt.fl = &#39;title&#39;, mlt.mindf = 1, mlt.mintf = 1, fl = &#39;counter_total_all&#39;, rows = 5))
out$docs
#&gt; # A tibble: 5 x 2
#&gt;   id                           counter_total_all
#&gt;   &lt;chr&gt;                                    &lt;int&gt;
#&gt; 1 10.1371/journal.pbio.1001805             22378
#&gt; 2 10.1371/journal.pbio.0020440             25560
#&gt; 3 10.1371/journal.pbio.1002559             11150
#&gt; 4 10.1371/journal.pone.0087217             11502
#&gt; 5 10.1371/journal.pbio.1002191             24483
</code></pre>

<pre><code class="r">out$mlt
#&gt; $`10.1371/journal.pbio.1001805`
#&gt; # A tibble: 5 x 4
#&gt;   numFound start id                           counter_total_all
#&gt;      &lt;int&gt; &lt;int&gt; &lt;chr&gt;                                    &lt;int&gt;
#&gt; 1     4319     0 10.1371/journal.pone.0098876              3857
#&gt; 2     4319     0 10.1371/journal.pone.0082578              3140
#&gt; 3     4319     0 10.1371/journal.pone.0102159              2329
#&gt; 4     4319     0 10.1371/journal.pcbi.1002915             11767
#&gt; 5     4319     0 10.1371/journal.pcbi.1003408             10700
#&gt; 
#&gt; $`10.1371/journal.pbio.0020440`
#&gt; # A tibble: 5 x 4
#&gt;   numFound start id                           counter_total_all
#&gt;      &lt;int&gt; &lt;int&gt; &lt;chr&gt;                                    &lt;int&gt;
#&gt; 1     1254     0 10.1371/journal.pone.0162651              3311
#&gt; 2     1254     0 10.1371/journal.pone.0003259              3310
#&gt; 3     1254     0 10.1371/journal.pntd.0003377              4406
#&gt; 4     1254     0 10.1371/journal.pone.0068814              9416
#&gt; 5     1254     0 10.1371/journal.pone.0101568              5600
#&gt; 
#&gt; $`10.1371/journal.pbio.1002559`
#&gt; # A tibble: 5 x 4
#&gt;   numFound start id                           counter_total_all
#&gt;      &lt;int&gt; &lt;int&gt; &lt;chr&gt;                                    &lt;int&gt;
#&gt; 1     5962     0 10.1371/journal.pone.0023086              8442
#&gt; 2     5962     0 10.1371/journal.pone.0041684             24475
#&gt; 3     5962     0 10.1371/journal.pone.0155028              2662
#&gt; 4     5962     0 10.1371/journal.pone.0155989              2519
#&gt; 5     5962     0 10.1371/journal.pone.0129394              2111
#&gt; 
#&gt; $`10.1371/journal.pone.0087217`
#&gt; # A tibble: 5 x 4
#&gt;   numFound start id                           counter_total_all
#&gt;      &lt;int&gt; &lt;int&gt; &lt;chr&gt;                                    &lt;int&gt;
#&gt; 1     5111     0 10.1371/journal.pone.0204743                 0
#&gt; 2     5111     0 10.1371/journal.pone.0175497              1088
#&gt; 3     5111     0 10.1371/journal.pone.0159131              4937
#&gt; 4     5111     0 10.1371/journal.pcbi.0020092             25551
#&gt; 5     5111     0 10.1371/journal.pone.0133941              1336
#&gt; 
#&gt; $`10.1371/journal.pbio.1002191`
#&gt; # A tibble: 5 x 4
#&gt;   numFound start id                           counter_total_all
#&gt;      &lt;int&gt; &lt;int&gt; &lt;chr&gt;                                    &lt;int&gt;
#&gt; 1    13747     0 10.1371/journal.pbio.1002232              3055
#&gt; 2    13747     0 10.1371/journal.pone.0070448              2203
#&gt; 3    13747     0 10.1371/journal.pone.0191705               800
#&gt; 4    13747     0 10.1371/journal.pone.0131700              3051
#&gt; 5    13747     0 10.1371/journal.pone.0121680              4980
</code></pre>

<h2>Groups</h2>

<p><code>solr_groups()</code> is a function to return similar documents to the one</p>

<pre><code class="r">conn$group(params = list(q = &#39;ecology&#39;, group.field = &#39;journal&#39;, group.limit = 1, fl = c(&#39;id&#39;, &#39;alm_twitterCount&#39;)))
#&gt;                         groupValue numFound start
#&gt; 1                         plos one    38352     0
#&gt; 2       plos computational biology      890     0
#&gt; 3                     plos biology     1157     0
#&gt; 4 plos neglected tropical diseases     2059     0
#&gt; 5                   plos pathogens      833     0
#&gt; 6                    plos genetics     1020     0
#&gt; 7                             none     1249     0
#&gt; 8                    plos medicine      311     0
#&gt; 9             plos clinical trials        2     0
#&gt;                             id alm_twitterCount
#&gt; 1 10.1371/journal.pone.0001248                0
#&gt; 2 10.1371/journal.pcbi.1003594               21
#&gt; 3 10.1371/journal.pbio.0060300                0
#&gt; 4 10.1371/journal.pntd.0004689               13
#&gt; 5 10.1371/journal.ppat.1005780               19
#&gt; 6 10.1371/journal.pgen.1005860              135
#&gt; 7 10.1371/journal.pone.0043894                0
#&gt; 8 10.1371/journal.pmed.1000303                1
#&gt; 9 10.1371/journal.pctr.0020010                0
</code></pre>

<h2>Parsing</h2>

<p><code>solr_parse()</code> is a general purpose parser function with extension methods for parsing outputs from functions in <code>solr</code>. <code>solr_parse()</code> is used internally within functions to do parsing after retrieving data from the server. You can optionally get back raw <code>json</code>, <code>xml</code>, or <code>csv</code> with the <code>raw=TRUE</code>, and then parse afterwards with <code>solr_parse()</code>.</p>

<p>For example:</p>

<pre><code class="r">(out &lt;- conn$highlight(params = list(q = &#39;alcohol&#39;, hl.fl = &#39;abstract&#39;, rows = 2), raw = TRUE))
#&gt; [1] &quot;{\n  \&quot;response\&quot;:{\&quot;numFound\&quot;:29215,\&quot;start\&quot;:0,\&quot;maxScore\&quot;:4.6769786,\&quot;docs\&quot;:[\n      {\n        \&quot;id\&quot;:\&quot;10.1371/journal.pone.0201042\&quot;,\n        \&quot;journal\&quot;:\&quot;PLOS ONE\&quot;,\n        \&quot;eissn\&quot;:\&quot;1932-6203\&quot;,\n        \&quot;publication_date\&quot;:\&quot;2018-07-26T00:00:00Z\&quot;,\n        \&quot;article_type\&quot;:\&quot;Research Article\&quot;,\n        \&quot;author_display\&quot;:[\&quot;Graeme Knibb\&quot;,\n          \&quot;Carl. A. Roberts\&quot;,\n          \&quot;Eric Robinson\&quot;,\n          \&quot;Abi Rose\&quot;,\n          \&quot;Paul Christiansen\&quot;],\n        \&quot;abstract\&quot;:[\&quot;\\nAcute alcohol administration can lead to a loss of control over drinking. Several models argue that this ‘alcohol priming effect’ is mediated by the effect of alcohol on inhibitory control. Alternatively, beliefs about how alcohol affects behavioural regulation may also underlie alcohol priming and alcohol-induced inhibitory impairments. Here two studies examine the extent to which the alcohol priming effect and inhibitory impairments are moderated by beliefs regarding the effects of alcohol on the ability to control behaviour. In study 1, following a priming drink (placebo or .5g/kg of alcohol), participants were provided with bogus feedback regarding their performance on a measure of inhibitory control (stop-signal task; SST) suggesting that they had high or average self-control. However, the bogus feedback manipulation was not successful. In study 2, before a SST, participants were exposed to a neutral or experimental message suggesting acute doses of alcohol reduce the urge to drink and consumed a priming drink and this manipulation was successful. In both studies craving was assessed throughout and a bogus taste test which measured ad libitum drinking was completed. Results suggest no effect of beliefs on craving or ad lib consumption within either study. However, within study 2, participants exposed to the experimental message displayed evidence of alcohol-induced impairments of inhibitory control, while those exposed to the neutral message did not. These findings do not suggest beliefs about the effects of alcohol moderate the alcohol priming effect but do suggest beliefs may, in part, underlie the effect of alcohol on inhibitory control.\\n\&quot;],\n        \&quot;title_display\&quot;:\&quot;The effect of beliefs about alcohol’s acute effects on alcohol priming and alcohol-induced impairments of inhibitory control\&quot;,\n        \&quot;score\&quot;:4.6769786},\n      {\n        \&quot;id\&quot;:\&quot;10.1371/journal.pone.0185457\&quot;,\n        \&quot;journal\&quot;:\&quot;PLOS ONE\&quot;,\n        \&quot;eissn\&quot;:\&quot;1932-6203\&quot;,\n        \&quot;publication_date\&quot;:\&quot;2017-09-28T00:00:00Z\&quot;,\n        \&quot;article_type\&quot;:\&quot;Research Article\&quot;,\n        \&quot;author_display\&quot;:[\&quot;Jacqueline Willmore\&quot;,\n          \&quot;Terry-Lynne Marko\&quot;,\n          \&quot;Darcie Taing\&quot;,\n          \&quot;Hugues Sampasa-Kanyinga\&quot;],\n        \&quot;abstract\&quot;:[\&quot;Objectives: Alcohol-related morbidity and mortality are significant public health issues. The purpose of this study was to describe the prevalence and trends over time of alcohol consumption and alcohol-related morbidity and mortality; and public attitudes of alcohol use impacts on families and the community in Ottawa, Canada. Methods: Prevalence (2013–2014) and trends (2000–2001 to 2013–2014) of alcohol use were obtained from the Canadian Community Health Survey. Data on paramedic responses (2015), emergency department (ED) visits (2013–2015), hospitalizations (2013–2015) and deaths (2007–2011) were used to quantify the acute and chronic health effects of alcohol in Ottawa. Qualitative data were obtained from the “Have Your Say” alcohol survey, an online survey of public attitudes on alcohol conducted in 2016. Results: In 2013–2014, an estimated 595,300 (83%) Ottawa adults 19 years and older drank alcohol, 42% reported binge drinking in the past year. Heavy drinking increased from 15% in 2000–2001 to 20% in 2013–2014. In 2015, the Ottawa Paramedic Service responded to 2,060 calls directly attributable to alcohol. Between 2013 and 2015, there were an average of 6,100 ED visits and 1,270 hospitalizations per year due to alcohol. Annually, alcohol use results in at least 140 deaths in Ottawa. Men have higher rates of alcohol-attributable paramedic responses, ED visits, hospitalizations and deaths than women, and young adults have higher rates of alcohol-attributable paramedic responses. Qualitative data of public attitudes indicate that alcohol misuse has greater repercussions not only on those who drink, but also on the family and community. Conclusions: Results highlight the need for healthy public policy intended to encourage a culture of drinking in moderation in Ottawa to support lower risk alcohol use, particularly among men and young adults. \&quot;],\n        \&quot;title_display\&quot;:\&quot;The burden of alcohol-related morbidity and mortality in Ottawa, Canada\&quot;,\n        \&quot;score\&quot;:4.676675}]\n  },\n  \&quot;highlighting\&quot;:{\n    \&quot;10.1371/journal.pone.0201042\&quot;:{\n      \&quot;abstract\&quot;:[\&quot;\\nAcute &lt;em&gt;alcohol&lt;/em&gt; administration can lead to a loss of control over drinking. Several models argue\&quot;]},\n    \&quot;10.1371/journal.pone.0185457\&quot;:{\n      \&quot;abstract\&quot;:[\&quot;Objectives: &lt;em&gt;Alcohol&lt;/em&gt;-related morbidity and mortality are significant public health issues\&quot;]}}}\n&quot;
#&gt; attr(,&quot;class&quot;)
#&gt; [1] &quot;sr_high&quot;
#&gt; attr(,&quot;wt&quot;)
#&gt; [1] &quot;json&quot;
</code></pre>

<p>Then parse</p>

<pre><code class="r">solr_parse(out, &#39;df&#39;)
#&gt; # A tibble: 2 x 2
#&gt;   names                 abstract                                           
#&gt;   &lt;chr&gt;                 &lt;chr&gt;                                              
#&gt; 1 10.1371/journal.pone… &quot;\nAcute &lt;em&gt;alcohol&lt;/em&gt; administration can lead …
#&gt; 2 10.1371/journal.pone… Objectives: &lt;em&gt;Alcohol&lt;/em&gt;-related morbidity and…
</code></pre>

<p><a href="https://github.com/ropensci/solrium/issues">Please report any issues or bugs</a>.</p>

</body>

</html>
